
<html>
<head>
    <title>SignalR Simple Chat</title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="/dist/jquery.slotmachine.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="/dist/slotmachine.js"></script>
    <script src="/dist/jquery.slotmachine.js"></script>




    <style type="text/css">
        .container {
            background-color: #99CCFF;
            border: thick solid #808080;
            padding: 20px;
            margin: 20px;
        }
    </style>
</head>
<body>
    <div id="casino">
        <div class="content">

            <div>
                <div id="casino1" class="num1 slotMachine" style="margin-left: -65px;">
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                    <div class="slot">4</div>
                    <div class="slot">5</div>
                    <div class="slot">6</div>
                </div>

                <div id="casino2" class="num2 slotMachine">
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                    <div class="slot">4</div>
                    <div class="slot">5</div>
                    <div class="slot">6</div>
                </div>

                <div id="casino3" class="slotMachine">
                    <div class="slot">1</div>
                    <div class="slot">2</div>
                    <div class="slot">3</div>
                    <div class="slot">4</div>
                    <div class="slot">5</div>
                    <div class="slot">6</div>
                </div>

                <div class="btn-group btn-group-justified" role="group">
                    <button id="casinoShuffle" type="button" class="btn btn-primary btn-lg">Shuffle!</button>
                    <button id="casinoStop" type="button" class="btn btn-primary btn-lg">Stop!</button>
                </div>
            </div>

        </div>

    </div>
    <!--Script references. -->
    <!--Reference the jQuery library. -->
    <script src="Scripts/jquery-3.4.1.min.js"></script>
    <!--Reference the SignalR library. -->
    <script src="Scripts/jquery.signalR-2.2.2.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="signalr/hubs"></script>
    <!--Add script to update the page and send messages.-->
    <script id="codeScript5">
        let count = 0;
        const btnShuffle = document.querySelector('#casinoShuffle');
        const btnStop = document.querySelector('#casinoStop');
        const casino1 = document.querySelector('#casino1');
        const casino2 = document.querySelector('#casino2');
        const casino3 = document.querySelector('#casino3');
        const mCasino1 = new SlotMachine(casino1, {
            active: 0,
            delay: 500
        });
        const mCasino2 = new SlotMachine(casino2, {
            active: 1,
            delay: 500
        });
        const mCasino3 = new SlotMachine(casino3, {
            active: 2,
            delay: 500
        });


    </script>
    <script id="codeScript6">
        btnShuffle.addEventListener('click', () => {
            count = 3;
            mCasino1.shuffle(9999);
            mCasino2.shuffle(9999);
            mCasino3.shuffle(9999);
        });

        btnStop.addEventListener('click', () => {
            switch (count) {
                case 3:
                    mCasino1.stop();
                    break;
                case 2:
                    mCasino2.stop();
                    break;
                case 1:
                    mCasino3.stop();
                    break;
            }
            count--;
        });
    </script>

    <script type="text/javascript">
        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.myHub;
            // Create a function that the hub can call to broadcast messages.
            chat.client.broadcastMessage = function (name, message) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedMsg = $('<div />').text(message).html();
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodedName
                    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };
            // Get the user name and store it to prepend to messages.
            $('#displayname').val(prompt('Enter your name:', ''));
            // Set initial focus to message input box.
            $('#message').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                chat.server.hello();
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    chat.server.send($('#displayname').val(), $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
            });
        });
    </script>
</body>
</html>